<html>
<head>
  <script src="/assets/js/jquery-2.1.4.min.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="/assets/js/highcharts-custom.js"></script>
  <script src="/assets/js/handlebars.runtime-v4.0.5.js"></script>

  <link href='/assets/styles/bootstrap.min.css' rel='stylesheet'>
  <script src="/assets/templates/templates.js"></script>
  <script src='/socket.io/socket.io.js'></script>
</head>
<body>
  <div id='main'>

  </div>


</body>
<script>
  var socket = io();
  Handlebars.partials = Handlebars.templates;
  var progressbar = Handlebars.templates['progressbar'];
  var form = Handlebars.templates['MarketRiskFrontEnd'];
  var $main=$('#main');
  $main.html(progressbar);
  socket.on('update', function(data) {
    $('#progressBar').css("width", data);
  });
  socket.emit("getYield");
  socket.on('yield', function(data) {
    console.log(data);
    createChart(JSON.parse(data));
  });
  socket.on('mc', function(data) {
    console.log(data);
  });
  function createChart(chartData){
    $main.highcharts({
      credits:false,
      title:{
        text:"Yield"
      },
      xAxis:{
        type:'category'
      },
      legend:{
        enabled:false
      },
      series:[{
        type:'spline',
        data:chartData
      }]
    });
  }
</script>

</html>
